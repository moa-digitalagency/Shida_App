{% extends 'admin/base.html' %}

{% block title %}Contenu - Shida Admin{% endblock %}

{% block content %}
<div class="mb-8 flex justify-between items-center">
    <div>
        <h1 class="text-3xl font-bold">Gestion du contenu</h1>
        <p class="text-gray-400">Pages statiques et contenu CMS</p>
    </div>
    <a href="{{ url_for('admin.edit_page') }}" class="bg-shida-pink hover:bg-pink-600 text-white px-4 py-2 rounded-lg transition">
        + Nouvelle page
    </a>
</div>

<div class="bg-gray-800 rounded-xl overflow-hidden">
    <table class="w-full">
        <thead class="bg-gray-700">
            <tr>
                <th class="text-left px-6 py-4">Titre</th>
                <th class="text-left px-6 py-4">Slug</th>
                <th class="text-left px-6 py-4">Statut</th>
                <th class="text-left px-6 py-4">Dernière modification</th>
                <th class="text-left px-6 py-4">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for page in pages %}
            <tr class="border-t border-gray-700 hover:bg-gray-700/50">
                <td class="px-6 py-4 font-medium">{{ page.title }}</td>
                <td class="px-6 py-4 text-gray-400 font-mono text-sm">/{{ page.slug }}</td>
                <td class="px-6 py-4">
                    <span class="px-2 py-1 rounded text-xs {% if page.is_published %}bg-green-500/20 text-green-400{% else %}bg-yellow-500/20 text-yellow-400{% endif %}">
                        {{ 'Publié' if page.is_published else 'Brouillon' }}
                    </span>
                </td>
                <td class="px-6 py-4 text-gray-400">{{ page.updated_at.strftime('%d/%m/%Y %H:%M') if page.updated_at else '-' }}</td>
                <td class="px-6 py-4">
                    <a href="{{ url_for('admin.edit_page', id=page.id) }}" class="text-shida-pink hover:underline">
                        Modifier
                    </a>
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="5" class="px-6 py-12 text-center text-gray-400">
                    <i data-feather="file-text" class="w-12 h-12 mx-auto mb-2"></i>
                    <p>Aucune page créée</p>
                    <a href="{{ url_for('admin.edit_page') }}" class="text-shida-pink hover:underline">Créer votre première page</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="mt-8 bg-gray-800 rounded-xl p-6">
    <h3 class="text-lg font-semibold mb-4">Pages suggérées</h3>
    <p class="text-gray-400 mb-4">Pages importantes à créer pour votre application:</p>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        <div class="bg-gray-700 rounded-lg p-4">
            <h4 class="font-medium">Conditions générales</h4>
            <p class="text-gray-400 text-sm">Slug: cgu</p>
        </div>
        <div class="bg-gray-700 rounded-lg p-4">
            <h4 class="font-medium">Politique de confidentialité</h4>
            <p class="text-gray-400 text-sm">Slug: privacy</p>
        </div>
        <div class="bg-gray-700 rounded-lg p-4">
            <h4 class="font-medium">FAQ</h4>
            <p class="text-gray-400 text-sm">Slug: faq</p>
        </div>
        <div class="bg-gray-700 rounded-lg p-4">
            <h4 class="font-medium">Guide de sécurité</h4>
            <p class="text-gray-400 text-sm">Slug: safety</p>
        </div>
        <div class="bg-gray-700 rounded-lg p-4">
            <h4 class="font-medium">À propos</h4>
            <p class="text-gray-400 text-sm">Slug: about</p>
        </div>
        <div class="bg-gray-700 rounded-lg p-4">
            <h4 class="font-medium">Contact</h4>
            <p class="text-gray-400 text-sm">Slug: contact</p>
        </div>
    </div>
</div>
{% endblock %}
